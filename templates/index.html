{% extends "base.html" %}

{% block content %}
<h2 class="mb-4">Invoice Entry Form</h2>
<form method="POST" id="invoiceForm">
    <div class="row g-3">
        <!-- Basic Information Section -->
        <div class="col-md-3">
            <label for="date" class="form-label">Date</label>
            <input type="text" class="form-control" id="date" name="date" value="{{ today }}" required>
        </div>
        
        <div class="col-md-3">
            <label for="vehicle_number" class="form-label">Vehicle Number</label>
            <input type="text" class="form-control text-uppercase" id="vehicle_number" name="vehicle_number" 
                   placeholder="XXNNXXNNNN or XXNNXNNNN" required>
        </div>
        
        <div class="col-md-3">
            <label for="supplier_name" class="form-label">Supplier Name</label>
            <input type="text" class="form-control" id="supplier_name" name="supplier_name" required>
        </div>
        
        <div class="col-md-3">
            <label for="challan_bill_number" class="form-label">Challan/Bill Number</label>
            <input type="text" class="form-control" id="challan_bill_number" name="challan_bill_number" required>
        </div>
        
        <!-- Material Information Section -->
        <div class="col-md-4">
            <label for="material" class="form-label">Material</label>
            <select class="form-select select2" id="material" name="material" required>
                <option value="" selected disabled>Select Material</option>
                {% for material in materials %}
                    <option value="{{ material }}">{{ material }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="col-md-2">
            <label for="unit" class="form-label">Unit</label>
            <select class="form-select select2" id="unit" name="unit" required>
                <option value="" selected disabled>Select Unit</option>
                {% for unit in units %}
                    <option value="{{ unit }}">{{ unit }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="col-md-2">
            <label for="quantity" class="form-label">Quantity</label>
            <input type="text" class="form-control" id="quantity" name="quantity" required>
        </div>
        
        <div class="col-md-2">
            <label for="basic_rate" class="form-label">Basic Rate</label>
            <input type="text" class="form-control" id="basic_rate" name="basic_rate" required>
        </div>
        
        <div class="col-md-2">
            <label for="amount_without_gst" class="form-label">Amount Without GST</label>
            <input type="text" class="form-control" id="amount_without_gst" name="amount_without_gst" readonly>
        </div>
        
        <!-- GST Section -->
        <div class="col-12 mt-3">
            <h5>GST and Tax Details</h5>
            <hr>
        </div>
        
        <div class="col-md-3">
            <label class="form-label">GST Type</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="gst_type" id="gst_none" value="None" checked>
                <label class="form-check-label" for="gst_none">None</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="gst_type" id="gst_intra" value="Intra-State">
                <label class="form-check-label" for="gst_intra">Intra-State</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="gst_type" id="gst_inter" value="Inter-State">
                <label class="form-check-label" for="gst_inter">Inter-State</label>
            </div>
        </div>
        
        <div class="col-md-3">
            <label for="cgst" class="form-label">CGST</label>
            <input type="text" class="form-control" id="cgst" name="cgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="sgst" class="form-label">SGST</label>
            <input type="text" class="form-control" id="sgst" name="sgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="igst" class="form-label">IGST</label>
            <input type="text" class="form-control" id="igst" name="igst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="cess" class="form-label">CESS</label>
            <input type="text" class="form-control" id="cess" name="cess" value="0" required>
        </div>
        
        <div class="col-md-3">
            <label for="tcs" class="form-label">TCS</label>
            <select class="form-select select2" id="tcs" name="tcs">
                {% for option in tcs_options %}
                    <option value="{{ option }}">{{ option }}</option>
                {% endfor %}
            </select>
        </div>
        
        <!-- Transport Section -->
        <div class="col-12 mt-3">
            <h5>Transport Details</h5>
            <hr>
        </div>
        
        <div class="col-md-3">
            <label class="form-label">Transport GST</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="transport_with_gst" id="transport_with" value="with" checked>
                <label class="form-check-label" for="transport_with">With GST</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="transport_with_gst" id="transport_without" value="without" required>
                <label class="form-check-label" for="transport_without">Without GST</label>
            </div>
        </div>
        
        <div class="col-md-3">
            <label for="transport_amount" class="form-label">Transport Amount Without GST</label>
            <input type="text" class="form-control" id="transport_amount" name="transport_amount" value="0" required>
        </div>
        
        <div class="col-md-3">
            <label for="transport_cgst" class="form-label">CGST on Transport (2.5%)</label>
            <input type="text" class="form-control" id="transport_cgst" name="transport_cgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="transport_sgst" class="form-label">SGST on Transport (2.5%)</label>
            <input type="text" class="form-control" id="transport_sgst" name="transport_sgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="transport_tds" class="form-label">TDS on Transport (%)</label>
            <input type="text" class="form-control" id="transport_tds" name="transport_tds" value="0" required>
        </div>
        
        <!-- Loading/Unloading Section -->
        <div class="col-12 mt-3">
            <h5>Loading/Unloading Details</h5>
            <hr>
        </div>
        
        <div class="col-md-3">
            <label class="form-label">Loading/Unloading GST</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="loading_with_gst" id="loading_with" value="with" checked>
                <label class="form-check-label" for="loading_with">With GST</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="loading_with_gst" id="loading_without" value="without" required>
                <label class="form-check-label" for="loading_without">Without GST</label>
            </div>
        </div>
        
        <div class="col-md-3">
            <label for="loading_amount" class="form-label">Loading/Unloading Amount</label>
            <input type="text" class="form-control" id="loading_amount" name="loading_amount" value="0" required>
        </div>
        
        <div class="col-md-3">
            <label for="loading_cgst" class="form-label">CGST on Loading (9%)</label>
            <input type="text" class="form-control" id="loading_cgst" name="loading_cgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="loading_sgst" class="form-label">SGST on Loading (9%)</label>
            <input type="text" class="form-control" id="loading_sgst" name="loading_sgst" readonly>
        </div>
        
        <div class="col-md-3">
            <label for="loading_tds" class="form-label">TDS on Loading (%)</label>
            <input type="text" class="form-control" id="loading_tds" name="loading_tds" value="0" required>
        </div>
        
        <!-- Totals Section -->
        <div class="col-12 mt-3">
            <h5>Totals</h5>
            <hr>
        </div>
        
        <div class="col-md-4">
            <label for="total_excluding_gst" class="form-label">Total Amount Excluding GST</label>
            <input type="text" class="form-control" id="total_excluding_gst" name="total_excluding_gst" readonly>
        </div>
        
        <div class="col-md-4">
            <label for="total_gst_amount" class="form-label">Total GST Amount</label>
            <input type="text" class="form-control" id="total_gst_amount" name="total_gst_amount" readonly>
        </div>
        
        <div class="col-md-4">
            <label for="total_including_gst" class="form-label">Total Amount Including GST</label>
            <input type="text" class="form-control" id="total_including_gst" name="total_including_gst" readonly>
        </div>
        
        <div class="col-12 mt-4">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="reset" class="btn btn-secondary">Reset</button>
        </div>
    </div>
</form>
{% endblock %}